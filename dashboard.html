<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | ScholarSync</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f8f9fa; }
        #sidebar-wrapper { min-height: 100vh; width: 260px; background-color: #0f172a; color: white; transition: all 0.3s; }
        .list-group-item { background: transparent; color: rgba(255,255,255,0.7); border: none; padding: 12px 24px; }
        .list-group-item:hover { color: white; background: rgba(255,255,255,0.1); }
        .list-group-item.active { background-color: #0d6efd; color: white; }
        .vault-item { transition: transform 0.2s; cursor: pointer; border: 1px solid #e2e8f0; }
        .vault-item:hover { transform: translateY(-5px); border-color: #0d6efd; box-shadow: 0 4px 12px rgba(13,110,253,0.1); }
        .icon-box { width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

<div class="d-flex">
    <div id="sidebar-wrapper">
        <div class="py-4 px-4 border-bottom border-secondary">
            <h4 class="fw-bold m-0"><i class="bi bi-layers-fill me-2 text-primary"></i>ScholarSync</h4>
        </div>
        <div class="list-group list-group-flush mt-3">
            <a href="#" class="list-group-item active"><i class="bi bi-grid-fill me-2"></i> Dashboard</a>
            <a href="#" class="list-group-item"><i class="bi bi-mortarboard me-2"></i> Academics</a>
            <a href="#" class="list-group-item"><i class="bi bi-trophy me-2"></i> Achievements</a>
            <button onclick="handleLogout()" class="list-group-item text-danger mt-5 w-100 text-start">
                <i class="bi bi-box-arrow-left me-2"></i> Logout
            </button>
        </div>
    </div>

    <div class="w-100">
        <nav class="navbar navbar-light bg-white border-bottom px-4 py-3">
            <h5 class="m-0 fw-bold">Student Overview</h5>
            <div class="ms-auto d-flex align-items-center">
                <span id="userNameDisplay" class="me-3 small fw-bold">Guest User</span>
                <div id="userInitialDisplay" class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 35px; height: 35px;">G</div>
            </div>
        </nav>

        <div class="container-fluid p-4">
            <div class="row g-4 mb-4">
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm p-3 border-start border-primary border-4">
                        <small class="text-muted fw-bold">CGPA</small>
                        <h2 class="fw-bold m-0">8.92</h2>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm p-3 border-start border-success border-4">
                        <small class="text-muted fw-bold">VERIFIED ITEMS</small>
                        <h2 class="fw-bold m-0">12</h2>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm p-3 border-start border-warning border-4">
                        <small class="text-muted fw-bold">CREDITS</small>
                        <h2 class="fw-bold m-0">450</h2>
                    </div>
                </div>
            </div>

            <div class="bg-white p-4 rounded-3 shadow-sm border">
                <div class="d-flex justify-content-between mb-4">
                    <h5 class="fw-bold">Activity Vault</h5>
                    <button class="btn btn-primary btn-sm" onclick="addActivity()">+ Add Activity</button>
                </div>
                <div class="row g-3" id="vault-container"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // 1. Initial Data
    const data = [
        { t: "Hackathon Winner", c: "Non-Academic", d: "Sept 2025", i: "bi-trophy-fill", bg: "#e0f2fe", col: "#0284c7" },
        { t: "Data Structures", c: "Academic", d: "Jan 2026", i: "bi-code-slash", bg: "#dcfce7", col: "#16a34a" },
        { t: "Volleyball Captain", c: "Sports", d: "Nov 2025", i: "bi-bicycle", bg: "#ffedd5", col: "#ea580c" }
    ];

    // 2. Render Function
    function render() {
        document.getElementById('vault-container').innerHTML = data.map(item => `
            <div class="col-md-4">
                <div class="vault-item p-3 bg-white rounded-3 h-100">
                    <div class="d-flex align-items-center mb-3">
                        <div class="icon-box me-3" style="background:${item.bg}; color:${item.col}">
                            <i class="bi ${item.i} fs-5"></i>
                        </div>
                        <div>
                            <h6 class="fw-bold m-0">${item.t}</h6>
                            <small class="text-muted">${item.c}</small>
                        </div>
                    </div>
                    <div class="badge bg-light text-dark border">Verified: ${item.d}</div>
                </div>
            </div>
        `).join('');
    }

    // 3. Add Activity Function
    function addActivity() {
        const t = prompt("Activity Name:");
        if(t) { 
            data.unshift({ t, c: "Pending", d: "Just Now", i: "bi-star", bg: "#f1f5f9", col: "#64748b" }); 
            render(); 
        }
    }

    // 4. CHECK USER LOGIN (The Logic)
    window.onload = function() {
        // Retrieve name from browser memory
        const savedName = localStorage.getItem('scholarName');
        
        if (savedName) {
            // Update Name
            document.getElementById('userNameDisplay').innerText = savedName + " (CS 2nd Year)";
            // Update Initial
            document.getElementById('userInitialDisplay').innerText = savedName.charAt(0).toUpperCase();
        } else {
            // If no user found, maybe redirect to login?
             window.location.href = 'login.html';
        }
    };

    // 5. Logout Function
    function handleLogout() {
        localStorage.removeItem('scholarName'); // Clear memory
        window.location.href = 'login.html'; // Go back to login
    }

    render();
</script>

</body>
</html>